(this.webpackJsonpgrid=this.webpackJsonpgrid||[]).push([[0],{37:function(e,t,n){e.exports=n(71)},42:function(e,t,n){},43:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),i=n.n(c),o=(n(42),n(43),n(2));var l=function(){var e=Object(o.c)((function(e){return e.user.winner}));return console.log("winner rendered"),r.a.createElement("div",{className:"Winner"},r.a.createElement("div",{className:"Winner-detail"},r.a.createElement("h3",null,"\u5f97\u734e\u8005"),r.a.createElement("h1",null,e.name)))},u=(n(48),n(35)),s=(n(49),n(50),{SET_TIME:"SET_TIME"}),E=function(e){return{type:s.SET_TIME,payload:e}},m={SET_USER_LIST:"SET_USER_LIST",SET_WINNER:"SET_WINNER",CLEAR_WINNER:" CLEAR_WINNER",ADD_USER:"ADD_USER",DELETE_USER:"DELETE_USER"},d=n(29),f=n.n(d),v=function(e){return{type:m.SET_USER_LIST,payload:e}};var S=r.a.memo((function(){var e=Object(o.c)((function(e){return e.timer.countDownSecond})),t=Object(o.b)();return Object(a.useEffect)((function(){if(0!==e){var n=Date.now(),a=setInterval((function(){var r=function(t){var n=Date.now(),a=parseInt((n-t)/1e3);return e-a}(n);(t(E(r)),r<=0)&&(clearInterval(a),console.log("SUCCESS"),t({type:m.SET_WINNER}),document.querySelector(".Winner").classList.add("Winner-show"))}),1e3);return function(){clearInterval(a)}}}),[e]),r.a.createElement("div",{className:"CountDownTimer"},r.a.createElement("h1",null,new Date(1e3*e).toISOString().substr(14,5)))}));var h=function(){var e=Object(a.useState)(0),t=Object(u.a)(e,2),n=t[0],c=t[1],i=Object(o.b)();function l(){i(E(n)),i({type:m.CLEAR_WINNER})}return r.a.createElement("div",{className:"Timer"},r.a.createElement("h1",null,"\u62bd\u734e\u6642\u9593"),r.a.createElement("div",{className:"timer-input"},r.a.createElement("input",{type:"text",value:n,name:"second",onChange:function(e){return c(e.target.value)}}),r.a.createElement("label",{htmlFor:""},"\u79d2"),r.a.createElement("button",{onClick:function(){return l()}},"\u958b\u59cb\u5012\u6578")),r.a.createElement(S,null))};n(68),n(69);var b=function(e){var t=e.user,n=Object(o.b)();function a(e){n(function(e){return{type:m.DELETE_USER,payload:e}}(e))}return r.a.createElement("div",{className:"UserListItem"},r.a.createElement("div",{className:"UserListItem-icon"},r.a.createElement("i",{className:"far fa-user-circle"})),r.a.createElement("div",{className:"UserListItem-name"},t.name),r.a.createElement("div",{onClick:function(){return a(t)},className:"UserListItem-delete"},r.a.createElement("i",{className:"fas fa-trash"})))};var p=function(){var e=Object(o.c)((function(e){return e.user.userList})),t=Object(o.b)();function n(){console.log("addUser");var n=prompt("\u8f38\u5165\u59d3\u540d","\u738b\u5927\u9318"),a={id:n+e.length,name:n};t(function(e){return{type:m.ADD_USER,payload:e}}(a))}return Object(a.useEffect)((function(){t((function(e){f.a.get("https://jsonplaceholder.typicode.com/users").then((function(t){e(v(t.data))})).catch((function(e){console.log(e)}))}))}),[]),r.a.createElement("div",{className:"UserList\n"},r.a.createElement("div",{className:"UserList-Title"},r.a.createElement("h1",null,"\u53c3\u8207\u62bd\u734e\u540d\u55ae"),r.a.createElement("button",{onClick:function(){return n()}},"\u65b0\u589e\u540d\u55ae")),r.a.createElement("div",{className:"UserList-List"},e.length?e.map((function(e){return r.a.createElement(b,{user:e,key:e.id})})):null))};var N=function(){return r.a.createElement("div",{className:"MainPage"},r.a.createElement("div",{className:"MainPage-container"},r.a.createElement(h,null),r.a.createElement(p,null)))},O=n(30),_=n(31),g=function(){function e(){Object(O.a)(this,e),this.WinnerSecion=document.querySelector(".Winner"),this.WinnerSectionToggle()}return Object(_.a)(e,[{key:"WinnerSectionToggle",value:function(){var e=this;null!==this.WinnerSecion&&this.WinnerSecion.addEventListener("click",(function(){e.WinnerSecion.classList.toggle("Winner-show")}))}}]),e}();var L=function(){return Object(a.useEffect)((function(){new g}),[]),console.log("App rendered"),r.a.createElement("div",{className:"App"},r.a.createElement(N,null),r.a.createElement(l,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=n(34),j=n(7),w=n(4),I={countDownSecond:0,countToZeroFlag:!1},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.SET_TIME:return Object(w.a)(Object(w.a)({},e),{},{countDownSecond:t.payload,countToZeroFlag:!1});default:return e}},R=n(36),U={userList:[],winner:{}},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.SET_USER_LIST:return console.log(t),Object(w.a)(Object(w.a)({},e),{},{userList:t.payload});case m.ADD_USER:return Object(w.a)(Object(w.a)({},e),{},{userList:[t.payload].concat(Object(R.a)(e.userList))});case m.DELETE_USER:return Object(w.a)(Object(w.a)({},e),{},{userList:e.userList.filter((function(e){return e.id!==t.payload.id}))});case m.SET_WINNER:var n=Math.floor(Math.random()*e.userList.length);return Object(w.a)(Object(w.a)({},e),{},{winner:e.userList[n]});case m.CLEAR_WINNER:return Object(w.a)(Object(w.a)({},e),{},{winner:{}});default:return e}},D=Object(j.c)({timer:y,user:W}),C=n(32),k=n.n(C),A=n(33),M=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||j.d,F=[k.a,A.a],P=Object(j.e)(D,M(j.a.apply(void 0,F)));i.a.render(r.a.createElement(o.a,{store:P},r.a.createElement(T.a,null,r.a.createElement(L,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.658afc2a.chunk.js.map